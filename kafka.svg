<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1641px" height="671px" viewBox="-0.5 -0.5 1641 671" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-11-04T09:24:37.586Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.6.2 Chrome/83.0.4103.122 Electron/9.2.0 Safari/537.36&quot; etag=&quot;8O5380rhPZcBzfP8BuQF&quot; version=&quot;13.6.2&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Q4mGrywpkFgPSJ1em-Hg&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="0" y="0" width="1640" height="670" rx="33.5" ry="33.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><rect x="60" y="10" width="440" height="430" rx="21.5" ry="21.5" fill="none" stroke="#000000" pointer-events="all"/><rect x="320" y="475" width="470" height="180" rx="27" ry="27" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 468px; height: 1px; padding-top: 482px; margin-left: 321px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RecordAccumulator-消息累加器</div></div></div></foreignObject><text x="555" y="499" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle">RecordAccumulator-消息累加器</text></switch></g><rect x="340" y="505" width="420" height="120" fill="none" stroke="#000000" pointer-events="all"/><path d="M 340 545 L 760 545" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 585 L 760 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 422 505 L 422 625" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 505 M 760 505 M 760 545 M 340 545" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="505" width="82" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 505 M 422 505 M 422 545 M 340 545" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 80px; height: 1px; padding-top: 525px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">TopicPartition</div></div></div></foreignObject><text x="381" y="529" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">TopicPartition</text></switch></g><rect x="422" y="505" width="338" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 422 505 M 760 505 M 760 545 M 422 545" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 545 M 760 545 M 760 585 M 340 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="545" width="82" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 545 M 422 545 M 422 585 M 340 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 80px; height: 1px; padding-top: 565px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">TopicPartition</div></div></div></foreignObject><text x="381" y="569" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">TopicPartition</text></switch></g><rect x="422" y="545" width="338" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 422 545 M 760 545 M 760 585 M 422 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 585 M 760 585 M 760 625 M 340 625" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="585" width="82" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 585 M 422 585 M 422 625 M 340 625" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 80px; height: 1px; padding-top: 605px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>TopicPartition</span></div></div></div></foreignObject><text x="381" y="609" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">TopicPartition</text></switch></g><rect x="422" y="585" width="338" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 422 585 M 760 585 M 760 625 M 422 625" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="80" y="20" width="400" height="100" rx="15" ry="15" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 70px; margin-left: 81px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消息发送<br />RecordMetadata rm=producer.send().get()<br />同步发送可以获取消息信息，如主题，分区号，分区中的offset，时间戳等信息，如果配置了retries参数，在发生异常的情况下会重试。<br />异步发送在方法中指定callBack回调函数，在消息发送完成后调用回调方法onCompletion()</div></div></div></foreignObject><text x="280" y="74" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消息发送RecordMetadata rm=producer.send().get()...</text></switch></g><rect x="80" y="150" width="400" height="60" rx="9" ry="9" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 180px; margin-left: 81px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">序列化<br />kafka发送的消息需要序列化才能在网络中传输，常用的StringSerializer。<br />转换为byte[]</div></div></div></foreignObject><text x="280" y="184" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">序列化kafka发送的消息需要序列化才能在网络中传输，常用的StringSerializer。...</text></switch></g><rect x="80" y="240" width="400" height="90" rx="13.5" ry="13.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 285px; margin-left: 81px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">分区器<br />为消息分配分区，默认实现DefaultPartitioner，根据key进行hash，如果相同的key则会发送到相同的分区中。如果key是null 那么消息会轮询的发送到topic的各个分区中。topic分区数量不变的情况下，key与分区的映射关系不会改变，如果topic的分区有变更，那么key与分区的关系就不确定了。</div></div></div></foreignObject><text x="280" y="289" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">分区器&#xa;为消息分配分区，默认实现DefaultPartitioner，根据key进行hash，如果相同的key则会发送到相同的分区中。如果key是null 那么消息会轮询的发送到topic的各个分区中。topic分区数量不变的情况下，key与分区的映射关系不会改变，如果topic的分区有变更，那么key与分区的关系就不确定了。</text></switch></g><rect x="80" y="350" width="400" height="80" rx="12" ry="12" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 390px; margin-left: 81px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Interceptor<br />消息发送前后做一些特殊处理，在消息序列化和计算分区之前执行onSend方法对消息进行定制化。在消息被应答（Acknowledgement）之前或消息发送失败时调用生产者拦截器的 onAcknowledgement方法。通过属性interceptor.classes来指定拦截器，多个用逗号分隔，可以组成拦截器链。</div></div></div></foreignObject><text x="280" y="394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Interceptor...</text></switch></g><rect x="540" y="0" width="140" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 20px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">producer</div></div></div></foreignObject><text x="610" y="25" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle" font-weight="bold">producer</text></switch></g><path d="M 640 150 L 640 183.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640 188.88 L 636.5 181.88 L 640 183.63 L 643.5 181.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="540" y="100" width="200" height="50" rx="7.5" ry="7.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 125px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">kafkaProducer</div></div></div></foreignObject><text x="640" y="130" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle">kafkaProducer</text></switch></g><path d="M 640 240 L 640 273.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640 278.88 L 636.5 271.88 L 640 273.63 L 643.5 271.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="540" y="190" width="200" height="50" rx="7.5" ry="7.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 215px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">interceptors</div></div></div></foreignObject><text x="640" y="220" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle">interceptors</text></switch></g><path d="M 640 330 L 640 363.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640 368.88 L 636.5 361.88 L 640 363.63 L 643.5 361.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="540" y="280" width="200" height="50" rx="7.5" ry="7.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 305px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">serializer</div></div></div></foreignObject><text x="640" y="310" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle">serializer</text></switch></g><path d="M 640 420 L 640 447.5 L 555 447.5 L 555 468.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 555 473.88 L 551.5 466.88 L 555 468.63 L 558.5 466.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="540" y="370" width="200" height="50" rx="7.5" ry="7.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 395px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">partitioner</div></div></div></foreignObject><text x="640" y="400" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle">partitioner</text></switch></g><path d="M 672.5 475 L 672.5 430 L 790 430 L 790 60 L 1045 60 L 1045 93.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1045 98.88 L 1041.5 91.88 L 1045 93.63 L 1048.5 91.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="430" y="510" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 525px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="470" y="528" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="510" y="510" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 525px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="550" y="528" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="590" y="510" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 525px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="630" y="528" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="430" y="550" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 565px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="470" y="568" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="510" y="550" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 565px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="550" y="568" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="590" y="550" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 565px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="630" y="568" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="670" y="550" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 565px; margin-left: 671px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="710" y="568" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="430" y="590" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 605px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="470" y="608" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="510" y="590" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 605px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>ProducerBatch</span></div></div></div></foreignObject><text x="550" y="608" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">ProducerBatch</text></switch></g><rect x="850" y="100" width="780" height="555" rx="27.75" ry="27.75" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 778px; height: 1px; padding-top: 378px; margin-left: 851px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &quot;consolas&quot; ; font-size: 12.0pt"><br /></pre></div></div></div></foreignObject><text x="1240" y="383" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle"></text></switch></g><rect x="850" y="100" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 120px; margin-left: 851px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Sender</div></div></div></foreignObject><text x="905" y="125" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle" font-weight="bold">Sender</text></switch></g><rect x="760" y="430" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 440px; margin-left: 761px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 16px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">wakeup</div></div></div></foreignObject><text x="780" y="445" fill="#000000" font-family="Helvetica" font-size="16px" text-anchor="middle">wakeup</text></switch></g><path d="M 1095 160 L 1095 173.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1095 178.88 L 1091.5 171.88 L 1095 173.63 L 1098.5 171.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1000" y="120" width="190" height="40" rx="6" ry="6" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 140px; margin-left: 1001px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Sender</div></div></div></foreignObject><text x="1095" y="144" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">Sender</text></switch></g><path d="M 1095 220 L 1095 293.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1095 298.88 L 1091.5 291.88 L 1095 293.63 L 1098.5 291.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1142.5 220 L 1142.5 290 L 1320 290 L 1320.01 496.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1320.01 501.38 L 1316.51 494.38 L 1320.01 496.13 L 1323.51 494.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1000" y="180" width="190" height="40" rx="6" ry="6" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 200px; margin-left: 1001px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建request</div></div></div></foreignObject><text x="1095" y="204" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">创建request</text></switch></g><rect x="880" y="300" width="430" height="140" rx="7" ry="7" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 428px; height: 1px; padding-top: 307px; margin-left: 881px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">inFlightRequests(发送中的请求集合)</div></div></div></foreignObject><text x="1095" y="320" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">inFlightRequests(发送中的请求集合)</text></switch></g><rect x="990" y="330" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 340px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1015" y="343" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1040" y="330" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 340px; margin-left: 1041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1065" y="343" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1090" y="330" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 340px; margin-left: 1091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1115" y="343" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1141" y="330" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 340px; margin-left: 1142px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1166" y="343" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="990" y="365" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 375px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1015" y="378" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1040" y="365" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 375px; margin-left: 1041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1065" y="378" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1090" y="365" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 375px; margin-left: 1091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1115" y="378" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1090" y="395" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 405px; margin-left: 1091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1115" y="408" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1040" y="395" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 405px; margin-left: 1041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1065" y="408" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="990" y="395" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 405px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1015" y="408" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1240" y="395" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 405px; margin-left: 1241px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1265" y="408" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1190" y="395" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 405px; margin-left: 1191px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1215" y="408" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="1140" y="395" width="50" height="20" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 405px; margin-left: 1141px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>request</span></div></div></div></foreignObject><text x="1165" y="408" fill="#000000" font-family="Helvetica" font-size="9px" text-anchor="middle">request</text></switch></g><rect x="890" y="325" width="410" height="100" fill="none" stroke="#000000" pointer-events="all"/><path d="M 890 359 L 1300 359" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 890 391 L 1300 391" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 980 325 L 980 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 890 325 M 1300 325 M 1300 359 M 890 359" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="890" y="325" width="90" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 890 325 M 980 325 M 980 359 M 890 359" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 342px; margin-left: 891px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 30px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">node1</div></div></div></foreignObject><text x="935" y="346" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">node1</text></switch></g><rect x="980" y="325" width="320" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 980 325 M 1300 325 M 1300 359 M 980 359" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 890 359 M 1300 359 M 1300 391 M 890 391" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="890" y="359" width="90" height="32" fill="none" stroke="none" pointer-events="all"/><path d="M 890 359 M 980 359 M 980 391 M 890 391" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 375px; margin-left: 891px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 28px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>node2</span></div></div></div></foreignObject><text x="935" y="379" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">node2</text></switch></g><rect x="980" y="359" width="320" height="32" fill="none" stroke="none" pointer-events="all"/><path d="M 980 359 M 1300 359 M 1300 391 M 980 391" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 890 391 M 1300 391 M 1300 425 M 890 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="890" y="391" width="90" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 890 391 M 980 391 M 980 425 M 890 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 408px; margin-left: 891px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 30px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>node3</span></div></div></div></foreignObject><text x="935" y="412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">node3</text></switch></g><rect x="980" y="391" width="320" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 980 391 M 1300 391 M 1300 425 M 980 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="870" y="280" width="90" height="35" rx="5.25" ry="5.25" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 298px; margin-left: 871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">networkClient</div></div></div></foreignObject><text x="915" y="301" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">networkClient</text></switch></g><path d="M 1305 542.5 L 1305.01 576.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1305.01 581.38 L 1301.51 574.38 L 1305.01 576.13 L 1308.51 574.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1210" y="502.5" width="190" height="40" rx="6" ry="6" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 523px; margin-left: 1211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">selector</div></div></div></foreignObject><text x="1305" y="526" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">selector</text></switch></g><rect x="1360" y="295" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 305px; margin-left: 1361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">提交selector发送消息</div></div></div></foreignObject><text x="1425" y="309" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">提交selector发送消息</text></switch></g><path d="M 1240 597.5 C 1240 589.22 1264.62 582.5 1295 582.5 C 1309.59 582.5 1323.58 584.08 1333.89 586.89 C 1344.21 589.71 1350 593.52 1350 597.5 L 1350 612.5 C 1350 620.78 1325.38 627.5 1295 627.5 C 1264.62 627.5 1240 620.78 1240 612.5 Z" fill="#bac8d3" stroke="#23445d" stroke-miterlimit="10" pointer-events="all"/><path d="M 1350 597.5 C 1350 605.78 1325.38 612.5 1295 612.5 C 1264.62 612.5 1240 605.78 1240 597.5" fill="none" stroke="#23445d" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 605px; margin-left: 1241px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">kafka claster</div></div></div></foreignObject><text x="1295" y="609" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">kafka claster</text></switch></g><path d="M 1250 607.5 C 1250 599.22 1274.62 592.5 1305 592.5 C 1319.59 592.5 1333.58 594.08 1343.89 596.89 C 1354.21 599.71 1360 603.52 1360 607.5 L 1360 622.5 C 1360 630.78 1335.38 637.5 1305 637.5 C 1274.62 637.5 1250 630.78 1250 622.5 Z" fill="#bac8d3" stroke="#23445d" stroke-miterlimit="10" pointer-events="all"/><path d="M 1360 607.5 C 1360 615.78 1335.38 622.5 1305 622.5 C 1274.62 622.5 1250 615.78 1250 607.5" fill="none" stroke="#23445d" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 615px; margin-left: 1251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">kafka claster</div></div></div></foreignObject><text x="1305" y="619" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">kafka claster</text></switch></g><path d="M 1260 617.5 C 1260 609.22 1284.62 602.5 1315 602.5 C 1329.59 602.5 1343.58 604.08 1353.89 606.89 C 1364.21 609.71 1370 613.52 1370 617.5 L 1370 632.5 C 1370 640.78 1345.38 647.5 1315 647.5 C 1284.62 647.5 1260 640.78 1260 632.5 Z" fill="#bac8d3" stroke="#23445d" stroke-miterlimit="10" pointer-events="all"/><path d="M 1370 617.5 C 1370 625.78 1345.38 632.5 1315 632.5 C 1284.62 632.5 1260 625.78 1260 617.5" fill="none" stroke="#23445d" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 625px; margin-left: 1261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">kafka claster</div></div></div></foreignObject><text x="1315" y="629" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">kafka claster</text></switch></g><rect x="870" y="460" width="330" height="116" fill="none" stroke="#000000" pointer-events="all"/><path d="M 870 485 L 1200 485" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 870 520 L 1200 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 870 548 L 1200 548" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1035 460 L 1035 576" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 870 460 M 1200 460 M 1200 485 M 870 485" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="870" y="460" width="165" height="25" fill="none" stroke="none" pointer-events="all"/><path d="M 870 460 M 1035 460 M 1035 485 M 870 485" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 473px; margin-left: 871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 21px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">buffer.memory(32MB) </div></div></div></foreignObject><text x="953" y="476" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">buffer.memory(32MB) </text></switch></g><rect x="1035" y="460" width="165" height="25" fill="none" stroke="none" pointer-events="all"/><path d="M 1035 460 M 1200 460 M 1200 485 M 1035 485" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 473px; margin-left: 1036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 21px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">批量发送消息大小</div></div></div></foreignObject><text x="1118" y="476" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">批量发送消息大小</text></switch></g><path d="M 870 485 M 1200 485 M 1200 520 M 870 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="870" y="485" width="165" height="35" fill="none" stroke="none" pointer-events="all"/><path d="M 870 485 M 1035 485 M 1035 520 M 870 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 503px; margin-left: 871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 31px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">max.block.ms（60s）</div></div></div></foreignObject><text x="953" y="506" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">max.block.ms（60s）</text></switch></g><rect x="1035" y="485" width="165" height="35" fill="none" stroke="none" pointer-events="all"/><path d="M 1035 485 M 1200 485 M 1200 520 M 1035 520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 503px; margin-left: 1036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 31px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">生产速度大于send发送速度，send最大阻塞时间</div></div></div></foreignObject><text x="1118" y="506" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">生产速度大于send发送速度，send最大阻塞时间</text></switch></g><path d="M 870 520 M 1200 520 M 1200 548 M 870 548" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="870" y="520" width="165" height="28" fill="none" stroke="none" pointer-events="all"/><path d="M 870 520 M 1035 520 M 1035 548 M 870 548" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 534px; margin-left: 871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 24px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">batch.size(16kb)</div></div></div></foreignObject><text x="953" y="538" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">batch.size(16kb)</text></switch></g><rect x="1035" y="520" width="165" height="28" fill="none" stroke="none" pointer-events="all"/><path d="M 1035 520 M 1200 520 M 1200 548 M 1035 548" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 534px; margin-left: 1036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 24px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">网络传输内存缓冲区大小</div></div></div></foreignObject><text x="1118" y="538" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">网络传输内存缓冲区大小</text></switch></g><path d="M 870 548 M 1200 548 M 1200 576 M 870 576" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="870" y="548" width="165" height="28" fill="none" stroke="none" pointer-events="all"/><path d="M 870 548 M 1035 548 M 1035 576 M 870 576" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 562px; margin-left: 871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 24px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">acks</div></div></div></foreignObject><text x="953" y="566" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">acks</text></switch></g><rect x="1035" y="548" width="165" height="28" fill="none" stroke="none" pointer-events="all"/><path d="M 1035 548 M 1200 548 M 1200 576 M 1035 576" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 562px; margin-left: 1036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 24px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">分区多少副本收到消息</div></div></div></foreignObject><text x="1118" y="566" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">分区多少副本收到消息</text></switch></g><rect x="1200" y="115" width="390" height="135" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 388px; height: 1px; padding-top: 183px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #4D4D4D; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Sender 从 RecordAccumulator 中获取缓存的消息之后，会进一步将原本＜分区，Deque＜ProducerBatch＞＞的保存形式转变成＜Node，List＜ ProducerBatch＞的形式，其中Node表示Kafka集群的broker节点。对于网络连接来说，生产者客户端是与具体的broker节点建立的连接，也就是向具体的 broker 节点发送消息，而并不关心消息属于哪一个分区；而对于 KafkaProducer的应用逻辑而言，我们只关注向哪个分区中发送哪些消息，所以在这里需要做一个应用逻辑层面到网络I/O层面的转换。</div></div></div></foreignObject><text x="1395" y="186" fill="#4D4D4D" font-family="Helvetica" font-size="13px" text-anchor="middle">Sender 从 RecordAccumulator 中获取缓存的消息之后，会进一步将原本＜分区，Deque＜ProducerBatch＞＞的保存形式转变成＜Node，List＜ Produce...</text></switch></g><rect x="1390" y="350" width="160" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 375px; margin-left: 1391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #4D4D4D; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据inFlightRequests可知node的负载情况</div></div></div></foreignObject><text x="1470" y="379" fill="#4D4D4D" font-family="Helvetica" font-size="13px" text-anchor="middle">根据inFlightRequests可知node的负载情况</text></switch></g><path d="M 1300 375 L 1383.63 375" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1388.88 375 L 1381.88 378.5 L 1383.63 375 L 1381.88 371.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>